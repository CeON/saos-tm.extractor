<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>saos-tm.extractor.ref-money documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Saos-tm.extractor 0.2.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>saos-tm</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extractor</span></div></div></li><li class="depth-3 branch"><a href="saos-tm.extractor.cc-appealed-judgment-links.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cc-appealed-judgment-links</span></div></a></li><li class="depth-3 branch"><a href="saos-tm.extractor.cc-parties.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cc-parties</span></div></a></li><li class="depth-3 branch"><a href="saos-tm.extractor.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-3 branch"><a href="saos-tm.extractor.judgment-links.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>judgment-links</span></div></a></li><li class="depth-3 branch"><a href="saos-tm.extractor.law-links.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>law-links</span></div></a></li><li class="depth-3 branch current"><a href="saos-tm.extractor.ref-money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ref-money</span></div></a></li><li class="depth-3 branch"><a href="saos-tm.extractor.rich-judgment-links.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rich-judgment-links</span></div></a></li><li class="depth-3"><a href="saos-tm.extractor.saos-json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>saos-json</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="saos-tm.extractor.ref-money.html#var-extract-max-money-ref"><div class="inner"><span>extract-max-money-ref</span></div></a></li><li class="depth-1"><a href="saos-tm.extractor.ref-money.html#var-extract-money-refs"><div class="inner"><span>extract-money-refs</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">saos-tm.extractor.ref-money</h2><div class="doc"><div class="markdown"><p>Module contains tools for extraction of money sums from raw text.</p></div></div><div class="public anchor" id="var-extract-max-money-ref"><h3>extract-max-money-ref</h3><div class="usage"><code>(extract-max-money-ref s)</code></div><div class="doc"><div class="markdown"><p>Extract maximum sum of money in Polish zł from a given string <code>s</code>. The result format is analogous to <code>extract-money-refs</code>, it contains a map with two keys:</p>
<ul>
  <li><code>:amount</code> with bigdec number representing the amount of money</li>
  <li><code>:text</code> with the precise text referencing detected money sum</li>
</ul></div></div><div class="src-link"><a href="https://github.com/CeON/saos-tm.extractor/blob/master/src/saos_tm/extractor/ref_money.clj#L288">view source</a></div></div><div class="public anchor" id="var-extract-money-refs"><h3>extract-money-refs</h3><div class="usage"><code>(extract-money-refs s)</code></div><div class="doc"><div class="markdown"><p>Extracts all references to money sums in Polish zł, present in a given string <code>s</code>.</p><p>The result is a list of maps, each containing two keys:</p>
<ul>
  <li><code>:amount</code> with bigdec number representing the amount of money or &ldquo;ERROR&rdquo;</li>
  <li><code>:text</code> with the precise text referencing detected money sum</li>
</ul><p>Example:</p><p><code>(extract-money-refs &quot;To kosztowało 123 zł 33 gr&quot;)</code></p><p><code>[ {:amount 123.33M :text &quot;123 zł 33&quot; gr]</code></p><p>It works by finding <code>zł</code> token and parsing preceding number. If supports prefixes <code>tys.</code> and <code>mln</code> as well as suffix <code>gr</code>. If the algorithm has difficulties with parsing given text it returns &ldquo;ERROR&rdquo; in the <code>:amount</code> field.</p></div></div><div class="src-link"><a href="https://github.com/CeON/saos-tm.extractor/blob/master/src/saos_tm/extractor/ref_money.clj#L245">view source</a></div></div></div></body></html>